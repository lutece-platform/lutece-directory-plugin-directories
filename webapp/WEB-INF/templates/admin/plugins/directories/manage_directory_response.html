<#include "directoriesmanager_tabs.html" />
<@tabs>
    <@tabList>
        <@tabLink
            href='jsp/admin/plugins/directories/ManageDirectories.jsp?view=modifyDirectory&id_directory=${id_directory}'
            title='#i18n{directories.modify_directory.directoryTabName}' />
        <@tabLink
            href='jsp/admin/plugins/directories/ManageDirectoryEntries.jsp?view=manageDirectoryEntries&id_directory=${id_directory}'
            title='#i18n{directories.modify_directory.directoryEntriesTabName}' />
        <@tabLink active=true
            href='jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}'
            title='#i18n{directories.manage_directory_response.directoryResponseTabName}' />
    </@tabList>
    <@tabContent>
        <@box>
            <@boxHeader boxTools=true>
                <@tform method='post'
                    action='jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}'
                    type='inline' align='right' role='search'>
                    <@formGroup formStyle='inline' labelKey='#i18n{portal.site.admin_page.buttonSearchPage}'
                        hideLabel=['all']>
                        <@inputGroup>
                            <@input type='text' name='search' />
                            <@inputGroupItem>
                                <@button type='submit' title='#i18n{portal.site.admin_page.buttonSearchPage}'
                                    buttonIcon='search' hideTitle=['all'] />
                            </@inputGroupItem>
                        </@inputGroup>
                    </@formGroup>
                </@tform>
                <@aButton
                    href="jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=createDirectoryResponse&id_directory=${id_directory}"
                    title='#i18n{directories.manage_directories.labelAddResponse}' />
            </@boxHeader>
            <@boxBody>
                <@table>
                    <thead>
                        <@tr>
                            <@th>
                                #i18n{directories.manage_directory_entity.idEntity}
                                <@sort
                                    jsp_url="jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}&search=${search!''}"
                                    attribute="id" />
                            </@th>
                            <@th>
                                #i18n{directories.manage_directory_entity.title}
                                <@sort
                                    jsp_url="jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}&search=${search!''}"
                                    attribute="title" />
                            </@th>
                            <@th>
                                #i18n{directories.manage_directory_entity.creator}
                                <@sort
                                    jsp_url="jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}&search=${search!''}"
                                    attribute="idCreator" />
                            </@th>
                            <@th>
                                #i18n{directories.manage_directory_entity.dateCreation}
                                <@sort
                                    jsp_url="jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}&search=${search!''}"
                                    attribute="creation" />
                            </@th>
                            <@th>
                                #i18n{directories.manage_directory_entity.modificator}
                                <@sort
                                    jsp_url="jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}&search=${search!''}"
                                    attribute="idModificator" />
                            </@th>
                            <@th>
                                #i18n{directories.manage_directory_entity.dateUpdate}
                                <@sort
                                    jsp_url="jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${id_directory}&search=${search!''}"
                                    attribute="update" />
                            </@th>
                            <@th>
                                Actions
                            </@th>
                        </@tr>
                    </thead>
                    <tbody>
                        <#list list_directory_entity as entity>
                            <@tr>
                                <@td>
                                    ${entity.id}
                                </@td>
                                <@td>
                                    ${entity.title!''}
                                </@td>
                                <@td>
                                    ${entity.creator}
                                </@td>
                                <@td>
                                    ${entity.creation}
                                </@td>
                                <@td>
                                    ${entity.modificator}
                                </@td>
                                <@td>
                                    ${entity.update!'-'}
                                </@td>
                                <@td>
                                    <@aButton
                                        href='jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=modifyDirectoryResponse&id_entity=${entity.id}&id_directory=${id_directory}'
                                        buttonIcon='pencil' />
                                    <@aButton
                                        href='jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?action=confirmRemoveDirectoryResponse&id_entity=${entity.id}&id_directory=${id_directory}'
                                        buttonIcon='trash' color='danger' />
                                </@td>
                            </@tr>
                        </#list>
                    </tbody>
                </@table>
                <@paginationAdmin paginator=paginator combo=1 form=0 />
            </@boxBody>
        </@box>
    </@tabContent>
</@tabs>
<script>
    // fix tabs lutece7
    const elements = document.querySelectorAll("a");
    const attr = "data-toggle";
    elements && elements.forEach(element => {
        if (element.hasAttribute(attr)) {
            element.setAttribute(attr, "#")
        }
    });
</script>