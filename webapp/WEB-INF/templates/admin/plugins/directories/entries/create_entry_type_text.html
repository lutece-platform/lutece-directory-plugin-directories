<#include "/admin/plugins/directories/commons.html" />
<@row>
    <@columns>
        <@box color='primary'>
            <@boxHeader title='#i18n{directories.type.name} : ${entry.entryType.title}' />
            <@boxBody>
                <@tform action='jsp/admin/plugins/directories/ManageDirectoryEntries.jsp' method='post'>
                    <fieldset>
                        <input name="id" value="${id}" type="hidden">
                        <input name="action" value="doCreateEntry" type="hidden">
                        <input name="id_type" value="${entry.entryType.idType}" type="hidden">
                        <#if entry.fieldDepend?exists>
                            <input name="id_field" value="${entry.fieldDepend.idField}" type="hidden">
                        </#if>
                        <@formGroup labelFor='title' labelKey='#i18n{directories.createEntry.labelTitle}' mandatory=true
                            helpKey='#i18n{directories.createEntry.labelTitleComment}'>
                            <@input type='text' name='title' id='title' value='' maxlength=255 />
                        </@formGroup>
                        <@formGroup labelFor='help_message' labelKey='#i18n{directories.createEntry.labelHelpMessage}'
                            helpKey='#i18n{directories.createEntry.labelHelpMessageComment}'>
                            <@input type='textarea' name='help_message' id='help_message' rows=5 />
                        </@formGroup>
                        <@formGroup labelFor='comment' labelKey='#i18n{directories.comment.name}'>
                            <@input type='textarea' name='comment' rows=2 />
                        </@formGroup>
                        <@formGroup labelFor='type' labelKey='#i18n{directories.createEntry.labelType}'>
                            <@tag color='info' id='type'>${entry.entryType.title}</@tag>
                        </@formGroup>
                        <@formGroup labelFor='value' labelKey='#i18n{directories.defaultValue.name}'>
                            <@input type='text' name='value' id='value' value='' maxlength=255 />
                        </@formGroup>
                        <@formGroup labelFor='mandatory' labelKey='#i18n{directories.createEntry.labelMandatory}'>
                            <@checkBox name='mandatory' value='1' />
                        </@formGroup>
                        <@formGroup labelFor='only_display_in_back'
                            labelKey='#i18n{directories.createEntry.labelOnlyDisplayInBack}'>
                            <@checkBox name='only_display_in_back' value='1' />
                        </@formGroup>
                        <@formGroup labelFor='errorMessage'
                            labelKey='#i18n{directories.createEntry.labelMandatoryErrorMessage}'
                            helpKey='#i18n{directories.createEntry.labelMandatoryErrorMessageHelp}'>
                            <@input type='textarea' name='errorMessage' rows=2 />
                        </@formGroup>
                        <@formGroup labelFor='width' labelKey='#i18n{directories.createEntry.labelWidth}'
                            mandatory=true>
                            <@input type='text' name='width' id='width' value='50' />
                        </@formGroup>
                        <@formGroup labelFor='max_size_enter'
                            labelKey='#i18n{directories.createEntry.labelMaxSizeEnter}'>
                            <@input type='text' name='max_size_enter' id='max_size_enter' value='' />
                        </@formGroup>
                        <@formGroup labelFor='confirm_field'
                            labelKey='#i18n{directories.createEntry.labelConfirmField}'>
                            <@checkBox name='confirm_field' id='confirm_field' value='1'
                                params='onchange="javascript:changeVisilityConfirmFieldTitle();"' />
                        </@formGroup>
                        <@formGroup labelFor='confirm_field_title'
                            labelKey='#i18n{directories.createEntry.labelConfirmFieldTitle}' mandatory=true>
                            <@input type='text' name='confirm_field_title' id='confirm_field_title' value=''
                                maxlength=255 />
                        </@formGroup>
                        <@formGroup labelFor='css_class' labelKey='#i18n{directories.createEntry.labelCSSClass}'
                            helpKey='#i18n{directories.createEntry.labelCSSClassComment}'>
                            <@input type='text' name='css_class' value='' maxlength=255 />
                        </@formGroup>
                        <@formGroup>
                            <@button type='submit' name='save' buttonIcon='save' title='#i18n{directories.labelSave}'
                                size='' />
                            <@button type='submit' name='apply' buttonIcon='check'
                                title='#i18n{directories.createEntry.buttonApplyAndManageVerification}' size='' />
                            <@button type='submit' name='cancel' value='cancel' buttonIcon='times'
                                title='#i18n{directories.labelCancel}' color='btn-secondary' size='' />
                        </@formGroup>
                    </fieldset>
                </@tform>
            </@boxBody>
        </@box>
    </@columns>
</@row>
<#include "/admin/util/editor/editor.html" />
<script type="text/javascript">
    changeVisilityConfirmFieldTitle();
    function changeVisilityConfirmFieldTitle() {
        if (document.getElementById("confirm_field").checked) {
            document.getElementById("confirm_field_title_p").style.display = 'block';
        }
        else {
            document.getElementById("confirm_field_title_p").style.display = 'none';
        }
    }
</script>
<@initEditor />