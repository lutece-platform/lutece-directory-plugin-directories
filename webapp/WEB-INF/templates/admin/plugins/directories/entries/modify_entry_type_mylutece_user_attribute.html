<#include "/admin/plugins/directories/commons.html" />
<#assign fieldMyLuteceAttributeName=getFieldByCode( entry, "attribute_name" )>
  <@row>
    <@columns>
      <@box color='primary'>
        <@boxHeader title='#i18n{directories.modifyEntry.titleQuestion} : "${entry.entryType.title}"' />
        <@boxBody>
          <@tform action='jsp/admin/plugins/forms/ManageQuestions.jsp'>
            <fieldset>
              <@input name="id_entry" value="${entry.idEntry}" type="hidden" />
              <@input name="id_directory" value="${id_directory}" type="hidden" />
              <@input name="action" value="doModifyEntry" type="hidden" />
              <@input name="id_type" value="${entry.entryType.idType}" type="hidden" />
              <#if entry.fieldDepend?exists>
                <@input id="id_field" name="id_field" value="${entry.fieldDepend.idField}" type="hidden" />
              </#if>
              <@formGroup labelFor='type' labelKey='#i18n{directories.createEntry.labelType}'>
                <@input type='text' name='type' id='type' readonly=true disabled=true
                  value='${entry.entryType.title}' />
              </@formGroup>
              <@formGroup labelFor='title' labelKey='#i18n{directories.createEntry.labelTitle}'
                helpKey='#i18n{directories.createEntry.labelTitleComment}' mandatory=true>
                <@input type='text' name='title' id='title' value=entry.title maxlength=255 />
              </@formGroup>
              <@formGroup labelFor='help_message' labelKey='#i18n{directories.createEntry.labelHelpMessage}'
                helpKey='#i18n{directories.createEntry.labelHelpMessageComment}'>
                <@input type='textarea' name='help_message' id='help_message' rows=2>${entry.helpMessage}</@input>
              </@formGroup>
              <@formGroup labelFor='mylutece_attribute_name'
                labelKey='#i18n{directories.createEntry.labelMyLuteceUserAttribute}'>
                <@select items=entryTypeService.getLuteceUserAttributesRefList(locale) name='mylutece_attribute_name'
                  default_value=fieldMyLuteceAttributeName.value />
              </@formGroup>
              <@formGroup labelFor='mandatory' labelKey='#i18n{directories.createEntry.labelMandatory}'>
                <@checkBox name='mandatory' id='mandatory' value='true' checked=entry.mandatory />
              </@formGroup>
              <@formGroup labelFor='css_class' labelKey='#i18n{directories.createEntry.labelCSSClass}'
                helpKey='#i18n{directories.createEntry.labelCSSClassComment}'>
                <@input type='text' name='css_class' id='css_class' value='${entry.CSSClass!}' maxlength=255 />
              </@formGroup>
              <@button type='submit' name='action_doModifyEntry' buttonIcon='save' title='#i18n{directories.labelSave}'
                size='' />
              <@button type='submit' name='cancel' value='cancel' buttonIcon='times'
                title='#i18n{directories.labelCancel}' color='btn-secondary' size='' />
              </@formGroup>
            </fieldset>
          </@tform>
        </@boxBody>
      </@box>
    </@columns>
  </@row>