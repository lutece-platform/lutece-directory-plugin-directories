<#include "/admin/plugins/directories/commons.html" />
<@row>
	<@columns>
		<@box color='primary'>
		<@boxHeader title='#i18n{directories.modifyEntry.titleQuestion} : "${entry.entryType.title}"' />
		<@boxBody>
				<@tform action='jsp/admin/plugins/directories/ManageDirectoryEntries.jsp' method='post'>
					<fieldset>
						<legend class="sr-only">#i18n{directories.modifyEntry.titleQuestion} : ""</legend>
						<#assign config=getFieldByCode( entry, "text_config" )>
							<@input name="id_entry" value="${entry.idEntry}" type="hidden" />
							<@input name="id_directory" value="${id_directory}" type="hidden" />
							<@input name="action" value="doModifyEntry" type="hidden" />
							<@input name="id_type" value="${entry.entryType.idType}" type="hidden" />
							<#if entry.fieldDepend?exists>
								<@input name="id_field" value="${entry.fieldDepend.idField}" type="hidden" />
							</#if>
							<@formGroup labelFor='type' labelKey='#i18n{directories.createEntry.labelType}'>
								<@input type='text' name='type' id='type' readonly=true disabled=true
									value='${entry.entryType.title}' />
							</@formGroup>
							<@formGroup labelFor='title' labelKey='#i18n{directories.createEntry.labelTitle}'
								helpKey='#i18n{directories.createEntry.labelTitleComment}' mandatory=true>
								<@input type='text' name='title' id='title' value='${entry.title}' maxlength=255 />
							</@formGroup>
							<@formGroup labelFor='help_message'
								labelKey='#i18n{directories.createEntry.labelHelpMessage}'
								helpKey='#i18n{directories.createEntry.labelHelpMessageComment}'>
								<@input type="textarea" name='help_message' id='help_message' rows=10>
									${entry.helpMessage}</@input>
							</@formGroup>
							<@formGroup labelFor='comment' labelKey='#i18n{directories.comment.name}'>
								<@input type="textarea" name='comment' id='comment' rows=2>${entry.comment}</@input>
							</@formGroup>
							<@formGroup labelFor='value' labelKey='#i18n{directories.defaultValue.name}'>
								<@input type="textarea" name='value' id='value' rows=10>${config.value}</@input>
							</@formGroup>
							<@formGroup>
								<#if entry.mandatory>
									<#assign checked=true />
								</#if>
								<@checkBox labelFor='mandatory' labelKey='#i18n{directories.createEntry.labelMandatory}'
									name='mandatory' id='mandatory' value='1' checked=checked />
							</@formGroup>
							<#assign field_width=getFieldValueByCode( entry, "width" )>
								<@formGroup labelFor='width' labelKey='#i18n{directories.createEntry.labelWidth}'
									mandatory=true>
									<@input type='text' name='width' id='width' value='${field_width?number}' />
								</@formGroup>
								<#assign field_height=getFieldValueByCode( entry, "height" )>
									<@formGroup labelFor='height' labelKey='#i18n{directories.createEntry.labelHeight}'
										mandatory=true>
										<@input type='text' name='height' id='height' inputSize=5
											value='${field_height?number}' />
									</@formGroup>
									<@formGroup labelFor='max_size_enter'
										labelKey='#i18n{directories.createEntry.labelMaxSizeEnter}'>
										<#assign field_max_size=getFieldValueByCode( entry, "max_size" )>
											<#if field_max_size?number!=-1>
												<#assign value='${field_max_size?number}' />
												<#else>
													<#assign value='' />
											</#if>
											<@input type='text' name='max_size_enter' id='max_size_enter' value=value />
									</@formGroup>
									<@formGroup labelFor='css_class'
										labelKey='#i18n{directories.createEntry.labelCSSClass}'
										helpKey='#i18n{directories.createEntry.labelCSSClassComment}'>
										<@input type='text' name='css_class' id='css_class' value='${entry.CSSClass!}'
											maxlength=255 />
									</@formGroup>
									<@formGroup labelFor='css_class'
										labelKey='#i18n{directories.createEntry.labelUseRichText}'
										helpKey='#i18n{directories.createEntry.labelUseRichTextComment}'>
										<!#-- fieldInLine means use rich text -->
											<#if entry.fieldInLine>
												<#assign checked=true />
											</#if>
											<@checkBox name='useRichText' id="useRichText" value='true'
												checked=checked />
									</@formGroup>
									${question_modify_template!}
									<@formGroup>
									<@button type='submit' name='action_doModifyEntry' buttonIcon='save'
									title='#i18n{directories.labelSave}' size='' />
								<@button type='submit' name='cancel' value='cancel' buttonIcon='times'
									title='#i18n{directories.labelCancel}' color='btn-secondary' size='' />
									</@formGroup>
					</fieldset>
				</@tform>
			</@boxBody>
		</@box>
	</@columns>
</@row>