<#include "/admin/plugins/directories/commons.html" />
<@row>
	<@columns>
		<@box color='primary'>
			<@boxHeader title='#i18n{directories.modifyEntry.titleQuestion} : "${entry.entryType.title}"' />
			<@boxBody>
				<@tform action='jsp/admin/plugins/directories/ManageDirectoryEntries.jsp' method='post'>
					
						<legend class="sr-only">#i18n{directories.modifyEntry.titleQuestion} : ""</legend>
						<#assign config=getFieldByCode( entry, "text_config" )>
							<@input name="id_entry" value="${entry.idEntry}" type="hidden" />
							<@input name="id_directory" value="${id_directory}" type="hidden" />
							<@input name="action" value="doModifyEntry" type="hidden" />
							<@input name="id_type" value="${entry.entryType.idType}" type="hidden" />
							<#if entry.fieldDepend?exists>
								<@input id="id_field" name="id_field" value="${entry.fieldDepend.idField}"
									type="hidden" />
							</#if>
							<@formGroup labelKey='#i18n{directories.createEntry.labelType}'>
								<@input type='text' name='type' id='type' readonly=true disabled=true
									value='${entry.entryType.title}' />
							</@formGroup>
							<@formGroup labelFor='title' labelKey='#i18n{directories.createEntry.labelTitle}'
								helpKey='#i18n{directories.createEntry.labelTitleComment}' mandatory=true>
								<@input type='text' name='title' id='title' value='${entry.title}' maxlength=255 />
							</@formGroup>
							<@formGroup labelFor='help_message'
								labelKey='#i18n{directories.createEntry.labelHelpMessage}'>
								<@input type="textarea" name='help_message' id='help_message' rows=2>
									${entry.helpMessage}</@input>
							</@formGroup>
							<@formGroup labelFor='comment' labelKey='#i18n{directories.comment.name}'>
								<@input type="textarea" name='comment' id='comment' rows=2>${entry.comment}</@input>
							</@formGroup>
							<@formGroup labelFor='value' labelKey='#i18n{directories.defaultValue.name}'>
								<@input type='text' name='value' id='value' value='${config.value}' />
							</@formGroup>
							<@formGroup>
								<#if entry.mandatory>
									<#assign checked=true />
								</#if>
								<@checkBox labelFor='mandatory' labelKey='#i18n{directories.createEntry.labelMandatory}'
									name='mandatory' id="mandatory" value='1' checked=checked />
							</@formGroup>
							<@formGroup labelFor='errorMessage'
								labelKey='#i18n{directories.createEntry.labelMandatoryErrorMessage}'
								helpKey='#i18n{directories.createEntry.labelMandatoryErrorMessageHelp}'>
								<@input type="textarea" id="errorMessage" name='errorMessage' id='errorMessage' rows=2>
									${entry.errorMessage!}</@input>
							</@formGroup>
							<#assign field_width=getFieldValueByCode( entry, "width" )>
								<@formGroup labelFor='width' labelKey='#i18n{directories.createEntry.labelWidth}'
									mandatory=true>
									<@input type='text' name='width' id='width' value='${field_width?number}' />
								</@formGroup>
								<@formGroup labelFor='max_size_enter'
									labelKey='#i18n{directories.createEntry.labelMaxSizeEnter}'>
									<#assign field_max_size=getFieldValueByCode( entry, "max_size" )>
										<#if field_max_size?number!=-1>
											<@input type='text' name='max_size_enter' id='max_size_enter' inputSize=5
												value='${field_max_size?number}' />
											<#else>
												<@input type='text' name='max_size_enter' id='max_size_enter'
													inputSize=5 value='' />
										</#if>
								</@formGroup>
								<@formGroup>
									<#assign confirmFieldField=getFieldByCode( entry, "confirm_field" )>
										<#if confirmFieldField.value?boolean>
											<#assign checkedValue=true />
											<#assign confirmFieldTitle=confirmFieldField.title />
											<#else>
												<#assign checkedValue=false />
												<#assign confirmFieldTitle="" />
										</#if>
										<@checkBox labelFor='confirm_field'
											labelKey='#i18n{directories.createEntry.labelConfirmField}'
											name='confirm_field' id='confirm_field' value='1'
											params='onchange="javascript:changeVisilityConfirmFieldTitle();"'
											checked=checkedValue />
								</@formGroup>
								<@formGroup labelFor='confirm_field_title' id="confirm_field_title_group"
									labelKey='#i18n{directories.createEntry.labelConfirmFieldTitle}'>
									<@input type='text' name='confirm_field_title' id='confirm_field_title'
										value='${confirmFieldTitle!}' maxlength=255 />
								</@formGroup>
								<@formGroup labelFor='css_class' labelKey='#i18n{directories.createEntry.labelCSSClass}'
									helpKey='#i18n{directories.createEntry.labelCSSClassComment}'>
									<@input type='text' name='css_class' id='css_class' value='${entry.CSSClass!}'
										maxlength=255 />
								</@formGroup>
								${question_modify_template!}
								<@formGroup>
									<@button type='submit' name='action_doModifyEntry' buttonIcon='save'
										title='#i18n{directories.labelSave}' size='' />
									<@button type='submit' name='cancel' value='cancel' buttonIcon='times'
										title='#i18n{directories.labelCancel}' color='btn-secondary' size='' />
								</@formGroup>
					
				</@tform>
			</@boxBody>
		</@box>
	</@columns>
</@row>