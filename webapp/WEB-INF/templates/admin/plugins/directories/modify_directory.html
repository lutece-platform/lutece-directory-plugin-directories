<#include "directoriesmanager_tabs.html" />
<@tabs>
	<@tabList>
		<@tabLink active=true
			href='jsp/admin/plugins/directories/ManageDirectories.jsp?view=modifyDirectory&id_directory=${directory.id}'
			title='#i18n{directories.modify_directory.directoryTabName}' />
		<@tabLink
			href='jsp/admin/plugins/directories/ManageDirectoryEntries.jsp?view=manageDirectoryEntries&id_directory=${directory.id}'
			title='#i18n{directories.modify_directory.directoryEntriesTabName}' />
		<@tabLink
			href='jsp/admin/plugins/directories/ManageDirectoryResponse.jsp?view=manageDirectoryResponse&id_directory=${directory.id}'
			title='#i18n{directories.manage_directory_response.directoryResponseTabName}' />
	</@tabList>
	<@tabContent>
		<@box>
			<@boxHeader title='#i18n{directories.modify_directory.title}' />
			<@boxBody>
				<@tform class="form-horizontal" method="post" name="modify_directory"
					action="jsp/admin/plugins/directories/ManageDirectories.jsp">
					<@messages errors=errors />
					<@input type="hidden" id="id_directory" name="id_directory" value="${directory.id}" />
					<@formGroup labelKey='#i18n{directories.modify_directory.labelName}'
						helpKey='#i18n{directories.modify_directory.labelName.help}' mandatory=true>
						<@input type='text' name='name' value='${directory.name}' />
					</@formGroup>
					<@formGroup labelKey='#i18n{directories.modify_directory.labelDescription}'
						helpKey='#i18n{directories.modify_directory.labelDescription.help}' mandatory=true>
						<@input type='text' name='description' value='${directory.description}' />
					</@formGroup>
					<@formGroup>
						<@button name='action_modifyDirectory' id='' type='submit'
							title='#i18n{directories.modify_directory.modifyBtn}' />
						<@aButton href='jsp/admin/plugins/directories/ManageDirectories.jsp' buttonIcon='close'
							title='#i18n{portal.util.labelCancel}' color='secondary' />
					</@formGroup>
				</@tform>
			</@boxBody>
		</@box>
	</@tabContent>
</@tabs>
<script>
	// fix tabs with wrong macro
	const elements = document.querySelectorAll("a");
	const attr = "data-toggle";
	elements && elements.forEach(element => {
		if (element.hasAttribute(attr)) {
			element.setAttribute(attr, "#")
		}
	});
</script>